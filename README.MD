# GPM - Git & NPM Proxy Manager

ä¸€ä¸ªç®€å•çš„ Git å’Œ NPM ä»£ç†ç®¡ç†å·¥å…·ï¼Œæ”¯æŒä»£ç†åˆ‡æ¢ã€NPM é•œåƒåˆ‡æ¢å’Œç¼“å­˜ç®¡ç†ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- âœ… **Git ä»£ç†ç®¡ç†** - å¿«é€Ÿè®¾ç½®å’Œåˆ‡æ¢ Git HTTP/HTTPS ä»£ç†
- âœ… **NPM ä»£ç†ç®¡ç†** - ç®¡ç† NPM çš„ä»£ç†è®¾ç½®
- âœ… **NPM é•œåƒç®¡ç†** - å¿«é€Ÿåˆ‡æ¢å¸¸ç”¨çš„ NPM é•œåƒæº
- âœ… **ç¼“å­˜ç®¡ç†** - æŸ¥çœ‹å’Œæ¸…ç†é…ç½®æ–‡ä»¶
- âœ… **é¢„è®¾æ”¯æŒ** - å†…ç½®å¸¸ç”¨é•œåƒæºé…ç½®

## ğŸ“¦ å®‰è£…

```bash
npm install -g @momei-x/gpm
```

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### åŸºç¡€ä»£ç†ç®¡ç†

```bash
# é…ç½®ä»£ç†ï¼ˆä¿å­˜åˆ°ç¼“å­˜ï¼Œä¸ç«‹å³åº”ç”¨ï¼‰
gpm config http://127.0.0.1:7890       # é»˜è®¤ä¸º Git ä»£ç†
gpm config --git 127.0.0.1:7890        # æ˜ç¡®æŒ‡å®šä¸º Git ä»£ç†
gpm config --npm 127.0.0.1:7890        # é…ç½®ä¸º NPM ä»£ç†

# åº”ç”¨ç¼“å­˜çš„ä»£ç†é…ç½®
gpm use                                 # åº”ç”¨åˆ° Gitï¼ˆé»˜è®¤ï¼‰
gpm use --git                          # åº”ç”¨åˆ° Git
gpm use --npm                          # åº”ç”¨åˆ° NPM
gpm use --all                          # åº”ç”¨åˆ° Git å’Œ NPM

# ç§»é™¤ä»£ç†é…ç½®
gpm unuse                              # ä» Git ç§»é™¤ï¼ˆé»˜è®¤ï¼‰
gpm unuse --git                        # ä» Git ç§»é™¤
gpm unuse --npm                        # ä» NPM ç§»é™¤
gpm unuse --all                        # ä» Git å’Œ NPM ç§»é™¤

# æŸ¥çœ‹ä»£ç†çŠ¶æ€
gpm get                                # æŸ¥çœ‹ Git ä»£ç†çŠ¶æ€ï¼ˆé»˜è®¤ï¼‰
gpm get --git                          # æŸ¥çœ‹ Git ä»£ç†çŠ¶æ€
gpm get --npm                          # æŸ¥çœ‹ NPM ä»£ç†çŠ¶æ€
gpm get --all                          # æŸ¥çœ‹æ‰€æœ‰ä»£ç†çŠ¶æ€
gpm get --config                       # æŸ¥çœ‹ç¼“å­˜çš„ä»£ç†é…ç½®
```

### NPM é•œåƒç®¡ç†

```bash
# è®¾ç½® NPM é•œåƒï¼ˆä½¿ç”¨é¢„è®¾åç§°ï¼‰
gpm registry set taobao
gpm registry set npm
gpm registry set cnpm

# è®¾ç½®è‡ªå®šä¹‰é•œåƒ
gpm registry set https://registry.npm.your-domain.com/

# ä½¿ç”¨å·²ä¿å­˜çš„é•œåƒè®¾ç½®
gpm registry use

# æŸ¥çœ‹å½“å‰ NPM é•œåƒ
gpm registry get

# åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„é¢„è®¾é•œåƒ
gpm registry list
```

### ç¼“å­˜ç®¡ç†

```bash
# æŸ¥çœ‹ç¼“å­˜æ–‡ä»¶ä½ç½®å’Œå†…å®¹
gpm cache info

# æ¸…ç†æ‰€æœ‰ç¼“å­˜æ–‡ä»¶
gpm cache clear
```

## ğŸ“‹ å¯ç”¨çš„ NPM é•œåƒé¢„è®¾

| åç§°    | åœ°å€                                         | è¯´æ˜       |
| ------- | -------------------------------------------- | ---------- |
| npm     | https://registry.npmjs.org/                  | å®˜æ–¹é•œåƒ   |
| taobao  | https://registry.npmmirror.com/              | æ·˜å®é•œåƒ   |
| cnpm    | https://r.cnpmjs.org/                        | CNPM é•œåƒ  |
| yarn    | https://registry.yarnpkg.com/                | Yarn é•œåƒ  |
| tencent | https://mirrors.cloud.tencent.com/npm/       | è…¾è®¯äº‘é•œåƒ |
| huawei  | https://repo.huaweicloud.com/repository/npm/ | åä¸ºäº‘é•œåƒ |
| aliyun  | https://npm.aliyun.com/                      | é˜¿é‡Œäº‘é•œåƒ |

## ğŸ’¾ ç¼“å­˜æ–‡ä»¶ä½ç½®

- ä»£ç†é…ç½®: `~/.gpm-proxy`
- NPM é•œåƒé…ç½®: `~/.gpm-npm-registry`

## ğŸ”§ å¸¸ç”¨åœºæ™¯

### åœºæ™¯ 1: è®¾ç½®å®Œæ•´çš„å¼€å‘ç¯å¢ƒä»£ç†

```bash
# 1. é…ç½®ä»£ç†ï¼ˆä¿å­˜åˆ°ç¼“å­˜ï¼‰
gpm config 127.0.0.1:7890

# 2. ä¸€é”®åº”ç”¨åˆ°æ‰€æœ‰æœåŠ¡
gpm use --all

# 3. è®¾ç½®å›½å†…é•œåƒåŠ é€Ÿ
gpm registry set taobao
```

### åœºæ™¯ 2: åˆ‡æ¢åˆ°å…¬å¸ç½‘ç»œ

```bash
# ç§»é™¤æ‰€æœ‰ä»£ç†è®¾ç½®
gpm unuse --all

# ä½¿ç”¨å…¬å¸é•œåƒ
gpm registry set https://npm.company.com/
```

### åœºæ™¯ 3: é‡ç½®åˆ°é»˜è®¤çŠ¶æ€

```bash
# æ¸…ç†æ‰€æœ‰é…ç½®
gpm cache clear

# æ¢å¤ NPM å®˜æ–¹é•œåƒ
gpm registry set npm
```

### åœºæ™¯ 4: åˆ†åˆ«ç®¡ç† Git å’Œ NPM ä»£ç†

```bash
# åªä¸º Git è®¾ç½®ä»£ç†
gpm config --git 127.0.0.1:7890
gpm use --git

# NPM ä¸ä½¿ç”¨ä»£ç†ï¼Œä½†ä½¿ç”¨å›½å†…é•œåƒ
gpm registry set taobao
```

## ğŸ› ï¸ å¼€å‘

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/gpm.git

# å®‰è£…ä¾èµ–
pnpm install

# å¼€å‘æ¨¡å¼
pnpm dev

# æ„å»º
pnpm build

# è¿è¡Œæµ‹è¯•
pnpm test
```

## ğŸ“ License

MIT
